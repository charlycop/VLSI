AS_ARM = /usr/bin/arm-linux-gnu-as
LD_ARM = /usr/bin/arm-linux-gnu-ld
CFLAGS = -march=armv2a -mno-thumb-interwork -Wall -O1
LD_FLAGS = -Bstatic -fix-v4bx

all : pgcd

pgcd : pgcd.o
	${LD_ARM} ${LD_FLAGS} -T sections.lds -o pgcd pgcd.o

pgcd.o : pgcd.s
	${AS_ARM} -c pgcd.s -o pgcd.o

clean :
	rm -f pgcd *.o
